<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>TablaGyan</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&family=Hubballi&family=Cinzel:wght@600&family=Libre+Baskerville&family=Gwendolyn:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="static/css/index.css" />
    <style>
      /* Custom styles for gallery */
      .event-section h2 {
        font-family: 'Cinzel', serif;
        color: #3e2723;
        font-size: 2rem;
        text-transform: capitalize;
        position: relative;
        margin-bottom: 1.5rem;
      }
      .event-section h2::after {
        content: '';
        position: absolute;
        left: 0;
        bottom: -0.5rem;
        width: 4rem;
        height: 3px;
        background-color: #b7410e;
      }
      .image-grid img {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .image-grid img:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      }
      @media (max-width: 640px) {
        .event-section h2 {
          font-size: 1.5rem;
        }
        .event-section h2::after {
          width: 3rem;
        }
      }
    </style>
  </head>
  <body class="bg-white text-gray-800">


    <!-- Navigation Bar -->
    <nav
      class="fixed top-0 left-0 w-full z-50 bg-[#fdf2d0] shadow-md px-6 py-4 flex justify-between items-center border-b-4 border-[#b7410e]"
    >
      <div class="flex items-center space-x-6">
        <img
          src="static/images/logo-dark1.png"
          alt="TablaGyan Logo"
          class="w-20 h-20 md:w-28 md:h-28 object-cover rounded-full border-2 border-[#d4af37] shadow-md"
        />
        <div class="flex flex-col">
          <span
            class="text-4xl md:text-5xl text-[#800000] gwendolyn-bold leading-none"
          >
            TablaGyan
          </span>
          <span
            class="text-xs md:text-sm text-[#855e42] italic font-serif tracking-wider mt-1 ml-6"
          >
            Academy of Music
          </span>
        </div>
      </div>

      <!-- Desktop Navigation Links -->
      <div
        class="hidden md:flex space-x-8 text-[1.1rem] font-medium relative"
        style="font-family: 'Libre Baskerville', serif"
      >
        <a
          href="index.html"
          class="text-[#3e2723] hover:text-[#b7410e] transition"
          >Home</a
        >

        <div class="relative group">
          <div class="flex flex-col">
            <a
              href="about.html"
              class="text-[#3e2723] hover:text-[#b7410e] transition"
              >TablaGyan</a
            >
            <div
              class="absolute left-0 mt-6 w-48 bg-[#fdf2d0] border border-[#d4af37] shadow-lg rounded hidden group-hover:block"
            >
              <a
                href="about.html#academy"
                class="block px-4 py-2 hover:bg-[#f7e3b2]"
                >TablaGyan Academy</a
              >
              <a
                href="about.html#gurus"
                class="block px-4 py-2 hover:bg-[#f7e3b2]"
                >TablaGyan Gurus</a
              >
            </div>
          </div>
        </div>



        <a
          href="courses.html"
          class="text-[#3e2723] hover:text-[#b7410e] transition"
          >Courses</a
        >
        <a
        href="gallery.html"
        class="text-[#3e2723] hover:text-[#b7410e] transition"
        >Gallery</a
      >
        <a
          href="contact.html"
          class="text-[#3e2723] hover:text-[#b7410e] transition"
          >Contact</a
        >
        <a
          href="faq.html"
          class="text-[#3e2723] hover:text-[#b7410e] transition"
          >FAQ</a
        >
      </div>

      <!-- Mobile Menu Toggle (Checkbox) -->
      <input type="checkbox" id="menu-toggle" class="hidden" />

      <!-- Mobile Menu Button -->
      <label
        for="menu-toggle"
        class="md:hidden p-2 text-[#3e2723] cursor-pointer"
      >
        <svg
          class="w-7 h-7"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"
          ></path>
        </svg>
      </label>

      <!-- Mobile Menu Dropdown -->
      <div
        class="absolute top-full left-0 right-0 bg-[#fdf2d0] shadow-lg  z-50 transition-all duration-300 max-h-0 overflow-hidden"
        id="menu-content"
      >
        <div
          class="flex flex-col space-y-2 p-4 text-lg"
          style="font-family: 'Libre Baskerville', serif"
        >
          <a href="index.html">Home</a>
          <a href="about.html">TablaGyan Academy</a>
          <a href="about.html#gurus">TablaGyan Gurus</a>
          <a href="gallery.html">Gallery</a>
          <a href="courses.html">Courses</a>
          <a href="contact.html">Contact</a>
          <a href="faq.html">FAQ</a>
        </div>
      </div>
    </nav>


    <div
      id="pageWrapper"
      class="transition-transform duration-500 ease-in-out font-sans bg-[#fdf6e3]"
    >
      <audio
        id="background-music"
        src="/static/audio/tabla-bg.mp3"
        loop
      ></audio>
      <!-- Music Toggle Icon -->
      <div id="music-toggle" class="fixed top-40 right-5 z-50 cursor-pointer">
        <img
          id="music-icon"
          src="/static/volume-up.png"
          alt="Music Toggle"
          class="w-8 h-8"
        />
      </div>
      <section class="gallery mt-36 py-8 px-4 sm:px-6 lg:px-8">
        <!-- Dynamic content will be inserted here -->
      </section>
    </div>
    <div class="visitor-counter">
      <img
        src="https://hits.sh/cksachdev.github.io/tablagyan.svg?style=flat-square&label=Site%20Visitors&color=e1c699&labelColor=6e2e1a"
        alt="Visitor Count"
      />
    </div>
    <!-- Footer -->
    <footer class="bg-gray-100 text-center text-sm p-6 text-gray-600">
      <div class="flex justify-center space-x-6 mb-4">
        <!-- Instagram -->
        <a
          href="https://instagram.com/tablagyan.official"
          target="_blank"
          class="text-gray-600 hover:text-pink-500 transition"
        >
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path
              d="M7.75 2A5.75 5.75 0 002 7.75v8.5A5.75 5.75 0 007.75 22h8.5A5.75 5.75 0 0022 16.25v-8.5A5.75 5.75 0 0016.25 2h-8.5zM12 8.5a3.5 3.5 0 110 7 3.5 3.5 0 010-7zm0 1.5a2 2 0 100 4 2 2 0 000-4zm4.75-.75a.75.75 0 110 1.5.75.75 0 010-1.5zM4.5 7.75A3.25 3.25 0 017.75 4.5h8.5A3.25 3.25 0 0119.5 7.75v8.5a3.25 3.25 0 01-3.25 3.25h-8.5A3.25 3.25 0 014.5 16.25v-8.5z"
            />
          </svg>
        </a>
        <!-- YouTube -->
        <a
          href="https://youtube.com/@tablagyanacademyofmusic"
          target="_blank"
          class="text-gray-600 hover:text-red-600 transition"
        >
          <svg
            class="w-6 h-6"
            viewBox="0 0 576 512"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M549.655 124.083c-6.281-23.65-24.774-42.181-48.2-48.483C460.018 64 288 64 288 64S115.982 64 74.545 75.6c-23.426 6.302-41.919 24.833-48.2 48.483C16 165.138 16 256 16 256s0 90.862 10.345 131.917c6.281 23.65 24.774 42.181 48.2 48.483C115.982 448 288 448 288 448s172.018 0 213.455-11.6c23.426-6.302 41.919-24.833 48.2-48.483C560 346.862 560 256 560 256s0-90.862-10.345-131.917zM232 336V Scully176l142.857 80L232 336z"
            />
          </svg>
        </a>
        <!-- Facebook -->
        <a
          href="https://facebook.com/tabla.gyan"
          target="_blank"
          class="text-gray-600 hover:text-blue-600 transition"
        >
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path
              d="M22 12.06C22 6.48 17.52 2 12 2S2 6.48 2 12.06c0 5.01 3.66 9.16 8.44 9.88v-6.99H8.09v-2.89h2.35v-2.2c0-2.33 1.39-3.61 3.52-3.61 1.02 0 2.09.18 2.09.18v2.3h-1.18c-1.16 0-1.52.72-1.52 1.45v1.88h2.58l-.41 2.89h-2.17v6.99C18.34 21.22 22 17.07 22 12.06z"
            />
          </svg>
        </a>
        <!-- WhatsApp -->
        <a
          href="https://wa.me/9845395205"
          target="_blank"
          class="text-gray-600 hover:text-green-500 transition"
        >
          <svg
            class="w-6 h-6"
            viewBox="0 0 448 512"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M380.9 97.1C339 55.2 283.5 32 224.8 32c-117.4 0-212.8 95.4-212.8 212.8 0 37.5 (an9.8 74.1 28.5 106.3L2 480l132.9-36.5c30.8 16.8 65.6 25.6 101.9 25.6h.1c117.3 0 212.8-95.4 212.8-212.8 0-58.7-23.2-114.1-65.8-156.2zM224.8 438.7c-30.5 0-60.2-8.2-86.2-23.7l-6.2-3.7-78.7 21.6 21-76.5-4-6.5c-17.7-28.8-27.1-62.1-27.1-96.4 0-100.1 81.5-181.6 181.6-181.6 48.5 0 94 18.9 128.3 53.2s53.2 79.8 53.2 128.3c0 100.1-81.5 181.7-181.6 181.7zm101.1-138.5c-5.5-2.8-32.8-16.2-37.9-18.1-5.1-1.9-8.9-2.8-12.7 2.8-3.7 5.5-14.6 18.1-17.9 21.9-3.3 3.7-6.6 4.2-12.1 1.4-33.1-16.5-54.8-29.5-76.6-66.7-5.8-10 5.8-9.3 16.5-30.9 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.7-30.6-17.4-41.9-4.6-11.1-9.3-9.6-12.7-9.8-3.3-.2-7.1-.2-10.9-.2s-10.2 1.4-15.5 6.9c-5.3 5.5-20.2 19.7-20.2 48.1s20.7 55.8 23.5 59.6c2.8 3.7 40.8 62.3 99 87.4 13.8 6 24.6 9.6 33 12.3 13.9 4.4 26.5 3.8 36.5 2.3 11.1-1.7 32.8-13.4 37.4-26.3 4.6-12.8 4.6-23.8 3.3-26.3-1.3-2.5-5-3.9-10.5-6.6z"
            />
        </a>
      </div>
      <p>Â© 2025 TablaGyan. All rights reserved.</p>
    </footer>
    <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
    <script>
      AOS.init();
    </script>
    <script src="index.js"></script>
    <script>
      // GitHub repository details
      const owner = 'cksachdev';
      const repo = 'tablagyan';
      const galleryPath = 'gallery/';
      const imageExtensions = ['.jpg', '.jpeg', '.png'];

      // Function to check if a file is an image
      function isImageFile(fileName) {
        return imageExtensions.some(ext => fileName.toLowerCase().endsWith(ext));
      }

      // Function to fetch directory contents recursively
      async function fetchDirectoryContents(path) {
        const url = `https://api.github.com/repos/${owner}/${repo}/contents/${path}`;
        try {
          const response = await fetch(url, {
            headers: {
              'Accept': 'application/vnd.github.v3+json'
            }
          });
          if (!response.ok) {
            throw new Error(`GitHub API error: ${response.status}`);
          }
          return await response.json();
        } catch (error) {
          console.error(`Error fetching ${path}:`, error);
          return [];
        }
      }

      // Function to create gallery sections
      async function createGallery() {
        const gallerySection = document.querySelector('.gallery');
        gallerySection.innerHTML = ''; // Clear any existing content

        // Fetch top-level folders in gallery/
        const folders = await fetchDirectoryContents(galleryPath);
        const eventFolders = folders.filter(item => item.type === 'dir').map(item => item.name);

        // Process each folder
        for (const folder of eventFolders) {
          // Create section for each event
          const eventSection = document.createElement('div');
          eventSection.className = 'event-section mb-8';
          const eventTitle = document.createElement('h2');
          eventTitle.textContent = folder.replace(/([A-Z])/g, ' $1').replace(/_/g, ' ').trim();
          eventSection.appendChild(eventTitle);

          // Create grid for images
          const imageGrid = document.createElement('div');
          imageGrid.className = 'image-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4';

          // Fetch images in the folder
          const files = await fetchDirectoryContents(`${galleryPath}${folder}`);
          const images = files.filter(file => file.type === 'file' && isImageFile(file.name));

          // Add images to the grid
          images.forEach(image => {
            const imgContainer = document.createElement('div');
            imgContainer.className = 'relative overflow-hidden rounded-lg';
            const imgElement = document.createElement('img');
            imgElement.src = `https://raw.githubusercontent.com/${owner}/${repo}/main/${galleryPath}${folder}/${image.name}`;
            imgElement.alt = `${folder} image`;
            imgElement.className = 'w-full h-64 object-cover rounded-lg';
            imgElement.loading = 'lazy';
            imgElement.setAttribute('data-aos', 'fade-up');
            imgContainer.appendChild(imgElement);
            imageGrid.appendChild(imgContainer);
          });

          eventSection.appendChild(imageGrid);
          gallerySection.appendChild(eventSection);
        }

        // Handle case when no folders are found
        if (eventFolders.length === 0) {
          gallerySection.innerHTML = '<p class="text-center text-gray-600 font-serif">No event folders found in the gallery.</p>';
        }
      }

      // Run the gallery creation on page load
      window.onload = createGallery;

      // Mobile menu toggle
      document.getElementById('menu-toggle').addEventListener('change', function () {
        const menuContent = document.getElementById('menu-content');
        if (this.checked) {
          menuContent.classList.remove('max-h-0');
          menuContent.classList.add('max-h-screen');
        } else {
          menuContent.classList.add('max-h-0');
          menuContent.classList.remove('max-h-screen');
        }
      });
    </script>
  </body>
</html>